{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// функція, яка виконує запит на сервер\nexport function fetchImages(query) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '42924833-4b721b8caf67a58fd43475ecb',\n    q: query,\n    image_type: photo,\n    orientation: horizontal,\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  const options = {\n    method: 'GET',\n  };\n  // return fetch(url, options).then(res => res.json());\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      iziToast.error({\n        backgroundColor: 'red',\n        position: 'topRight',\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from '../src/js/pixabay-api';\n// import { createGalleryMarkup } from '../js';\nexport const refs = {\n  formEl: document.querySelector('form'),\n  formCont: document.querySelector('form-container'),\n  inputEl: document.querySelector('input.form-control'),\n  ulEl: document.querySelector('ul.gallery'),\n};\nexport let query = '';\nrefs.inputEl.addEventListener('input', e => {\n  e.preventDefault();\n  query = refs.inputEl.value.trim();\n  refs.ulEl.innerHTML = '';\n});\nconst fetchUsersBtn = document.querySelector('.btn');\nfetchUsersBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if (query) {\n    fetchImages(query)\n      .then(images => renderUsers(images))\n      .catch(error =>\n        iziToast.error({\n          title: 'Error',\n          backgroundColor: 'red',\n          position: 'topRight',\n          message: 'Please try again!',\n        })\n      );\n  }\n});\n"],"names":["fetchImages","query","BASE_URL","END_POINT","params","url","response","error","iziToast","refs","e","fetchUsersBtn","images"],"mappings":"svBAKO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,MACZ,YAAa,WACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAK7C,OAAO,MAAMC,EAJG,CACd,OAAQ,KACZ,CAE2B,EACtB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,gBAAiB,MACjB,SAAU,WACV,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL,CC9BO,MAAMC,EAAO,CAClB,OAAQ,SAAS,cAAc,MAAM,EACrC,SAAU,SAAS,cAAc,gBAAgB,EACjD,QAAS,SAAS,cAAc,oBAAoB,EACpD,KAAM,SAAS,cAAc,YAAY,CAC3C,EACO,IAAIR,EAAQ,GACnBQ,EAAK,QAAQ,iBAAiB,QAASC,GAAK,CAC1CA,EAAE,eAAc,EAChBT,EAAQQ,EAAK,QAAQ,MAAM,KAAI,EAC/BA,EAAK,KAAK,UAAY,EACxB,CAAC,EACD,MAAME,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,iBAAiB,QAASD,GAAK,CAC3CA,EAAE,eAAc,EACZT,GACFD,EAAYC,CAAK,EACd,KAAKW,GAAU,YAAYA,CAAM,CAAC,EAClC,MAAML,GACLC,EAAS,MAAM,CACb,MAAO,QACP,gBAAiB,MACjB,SAAU,WACV,QAAS,mBACnB,CAAS,CACT,CAEA,CAAC"}