{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// функція, яка виконує запит на сервер\nexport function fetchImages(query) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '42924833-4b721b8caf67a58fd43475ecb',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n  const options = {\n    method: 'GET',\n  };\n  // return fetch(url, options).then(res => res.json());\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      iziToast.error({\n        backgroundColor: 'red',\n        position: 'topCenter',\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { refs } from '../main';\n\nexport function renderImages(data) {\n  refs.ulEl.innerHTML = '';\n  console.log(data);\n  const images = data.hits;\n  if (images.length == 0) {\n    iziToast.error({\n      title: 'Error',\n      message: `Error: No such pictures!`,\n      position: 'topRight',\n    });\n  }\n\n  refs.ulEl.insertAdjacentHTML('beforeend', createGalleryMarkup(images));\n  const galleryCfg = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n  let lightbox = new SimpleLightbox('.gallery a', galleryCfg);\n  lightbox.on('show.simplelightbox', function () {});\n  lightbox.refresh();\n}\n\nfunction createGalleryMarkup(images) {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img       \n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n        <ul class=\"img-description\"><li class><h3>Likes</h3><p>${likes}</p><li/>\n        <li><h3>Views</h3><p>${views}</p><li/>\n        <li><h3>Comments</h3><p>${comments}</p><li/>  \n        <li><h3>Downloads</h3><p>${downloads}</p><li/></ul>\n      </a>\n    </li>\n     \n  `\n    )\n    .join('');\n}\n// container.insertAdjacentHTML('beforeend', createGalleryMarkup(images));\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from '../src/js/pixabay-api';\nimport { renderImages } from './js/render-function';\nexport const refs = {\n  formEl: document.querySelector('form'),\n  formCont: document.querySelector('form-container'),\n  inputEl: document.querySelector('input.form-control'),\n  ulEl: document.querySelector('ul.gallery'),\n};\nexport let query = '';\nrefs.inputEl.addEventListener('input', e => {\n  e.preventDefault();\n  query = refs.inputEl.value.trim();\n  refs.ulEl.innerHTML = '';\n});\nconst fetchUsersBtn = document.querySelector('.btn');\nfetchUsersBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if (query) {\n    refs.ulEl.innerHTML = '<div class=\"loader\"></div>';\n    fetchImages(query)\n      .then(data => renderImages(data))\n      .catch(error => {\n        console.log(error);\n        iziToast.error({\n          title: 'Error',\n          backgroundColor: 'red',\n          position: 'topRight',\n          message:\n            'Please Sorry, there are no images matching your search query. Please try again! again!',\n        });\n      });\n  }\n});\n"],"names":["fetchImages","query","BASE_URL","END_POINT","params","url","response","error","iziToast","renderImages","data","refs","images","createGalleryMarkup","galleryCfg","lightbox","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","e","fetchUsersBtn"],"mappings":"6vBAKO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAK7C,OAAO,MAAMC,EAJG,CACd,OAAQ,KACZ,CAE2B,EACtB,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,gBAAiB,MACjB,SAAU,YACV,MAAO,QACP,QACE,0EACV,CAAO,CACP,CAAK,CACL,CC9BO,SAASC,EAAaC,EAAM,CACjCC,EAAK,KAAK,UAAY,GACtB,QAAQ,IAAID,CAAI,EAChB,MAAME,EAASF,EAAK,KAChBE,EAAO,QAAU,GACnBJ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UAChB,CAAK,EAGHG,EAAK,KAAK,mBAAmB,YAAaE,EAAoBD,CAAM,CAAC,EACrE,MAAME,EAAa,CACjB,aAAc,MACd,aAAc,GAClB,EACE,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EAC1DC,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CAClB,CAEA,SAASF,EAAoBD,EAAQ,CACnC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAK,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,sCAE0BL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA,iEAE4CC,CAAK;AAAA,+BACvCC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAKvC,EACA,KAAK,EAAE,CACZ,CCnDO,MAAMZ,EAAO,CAClB,OAAQ,SAAS,cAAc,MAAM,EACrC,SAAU,SAAS,cAAc,gBAAgB,EACjD,QAAS,SAAS,cAAc,oBAAoB,EACpD,KAAM,SAAS,cAAc,YAAY,CAC3C,EACO,IAAIV,EAAQ,GACnBU,EAAK,QAAQ,iBAAiB,QAASa,GAAK,CAC1CA,EAAE,eAAc,EAChBvB,EAAQU,EAAK,QAAQ,MAAM,KAAI,EAC/BA,EAAK,KAAK,UAAY,EACxB,CAAC,EACD,MAAMc,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,iBAAiB,QAASD,GAAK,CAC3CA,EAAE,eAAc,EACZvB,IACFU,EAAK,KAAK,UAAY,6BACtBX,EAAYC,CAAK,EACd,KAAKS,GAAQD,EAAaC,CAAI,CAAC,EAC/B,MAAMH,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAO,QACP,gBAAiB,MACjB,SAAU,WACV,QACE,wFACZ,CAAS,CACT,CAAO,EAEP,CAAC"}